(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),c=t(14),o=t.n(c),r=t(2),u=t(3),s=function(e){return l.a.createElement("button",{onClick:e.handleClick},e.text)},i=t(4),m=t.n(i),f="http://localhost:3001/api/persons",d=function(){return m.a.get(f)},p=function(e,n){return console.log(e),m.a.post(f,e).then(function(e){n()}).catch(function(e){console.log(e)})},g=function(e,n,t){return console.log(n),m.a.put("".concat(f,"/").concat(e),n).then(function(e){t()}).catch(function(e){console.log(e)})},v=function(e,n){return m.a.delete("".concat(f,"/").concat(e)).then().catch(function(e){console.log(e),n()})},b=function(e){var n=e.persons,t=e.setPersons,c=(e.applyMessage,e.setApplyMessage),o=Object(a.useState)(""),i=Object(r.a)(o,2),m=i[0],f=i[1],d=Object(a.useState)(""),v=Object(r.a)(d,2),b=v[0],E=v[1];return l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("div",null,"name: ",l.a.createElement("input",{value:m,onChange:function(e){f(e.target.value)}})),l.a.createElement("div",null,"phone: ",l.a.createElement("input",{value:b,onChange:function(e){E(e.target.value)}})),l.a.createElement("div",null,l.a.createElement(s,{text:"add",handleClick:function(e){e.preventDefault();var a=Object(u.a)(n);if(void 0===n.find(function(e){return e.name===m})&&void 0===n.find(function(e){return e.phone===b})){var l={name:m,number:b,id:a.length+1};a.push(l),t(a),p(l,function(){c({message:"".concat(m," was created"),style:"notification"}),setTimeout(function(){c({message:null,style:null})},5e3)}),f(""),E("")}else{var o=a.filter(function(e){return e.name===m})[0];window.confirm("".concat(o.name," will be updated. Continue?"))&&(a[a.indexOf(o)]={name:m,number:b,id:o.id},g(o.id,{name:m,number:b,id:o.id},function(){c({message:"".concat(m," was updated"),style:"notification"}),setTimeout(function(){c({message:null,style:null})},5e3)}),t(a))}}}))))},E=function(e){var n=e.person,t=e.removePerson;return l.a.createElement("p",null,n.name," ",n.number," ",l.a.createElement(s,{text:"delete",handleClick:t}))},h=function(e){var n,t=e.persons,a=e.setPersons,c=e.filter,o=e.setApplyMessage;n=""===c?Object(u.a)(t):t.filter(function(e){return e.name.includes(c)});return n.map(function(e){return l.a.createElement(E,{key:e.id,person:e,removePerson:function(){return function(e){if(window.confirm("".concat(e.name," is about to be deleted. Continue?"))){v(e.id,function(){o({message:"".concat(e.name," already deleted"),style:"error"}),setTimeout(function(){o({message:null,style:null})},5e3)});var n=Object(u.a)(t);n.splice(n.indexOf(e),1),a(n)}}(e)}})})},y=function(e){var n=e.filter,t=e.setFilter;return l.a.createElement("div",null,"Find persons ",l.a.createElement("input",{value:n,onChange:function(e){t(e.target.value)}}))},O=function(){var e=Object(a.useState)([]),n=Object(r.a)(e,2),t=n[0],c=n[1];Object(a.useEffect)(function(){d().then(function(e){c(e.data)})},[]);var o=Object(a.useState)({message:null,style:null}),u=Object(r.a)(o,2),s=u[0],i=u[1],m=Object(a.useState)(""),f=Object(r.a)(m,2),p=f[0],g=f[1];return l.a.createElement("div",null,l.a.createElement(function(e){var n=e.message,t=e.style;return console.log("style: "+t+" message: "+n),null===n?null:l.a.createElement("div",{className:t},n)},{message:s.message,style:s.style}),l.a.createElement("h2",null,"Phonebook"),l.a.createElement(y,{filter:p,setFilter:g}),l.a.createElement("h3",null,"Add a new"),l.a.createElement(b,{persons:t,setPersons:c,applyMessage:s,setApplyMessage:i}),l.a.createElement("h3",null,"Numbers"),l.a.createElement(h,{persons:t,setPersons:c,filter:p,setApplyMessage:i}))};t(38);o.a.render(l.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.d090ead0.chunk.js.map